<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recetas - DeliciousRecipes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../styles/general.css">
    <link rel="shortcut icon" href="../assets/logo/logo_cocinero.png" type="image/x-icon">
</head>
<body>
    <nav class="navbar navbar-expand-lg px-4 py-2 fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand contenedor_logo d-flex justify-content-center align-items-center" href="../index.html">
                <div class="contenedor_logo_imagen">
                    <img src="../assets/logo/logo.png" alt="Gorra de cocinero" class="imagen">
                </div>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end " id="navbarNavDropdown">
                <ul class="contenedor_links navbar-nav d-flex align-items-center">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../index.html">Inicio</a>
                    </li>
                    <li class="nav-item mx-2">
                        <a class="nav-link" href="#">Recetas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./contacto.html">Contacto</a>
                    </li>
                </ul>
                <button class="btn btn-naranja" id="loginBtn">Iniciar Sesión</button>
                <a class="btn btn-naranja" target="_blank" href="./suscripcion.html" id="suscripcionBtn">Suscribirse</a>
            </div>
            
        </div>
        
    </nav>

    <main class="main">
        <div class="container-fluid pt-5 my-5">
            <div class="row ">
                <div class="col-md-2 mb-5">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <p class="nav-link seccion_recetas disabled mb-2" aria-disabled="true"><span>Recetas saladas</span> <i class="bi bi-dash-lg"></i></p>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="frito">Frito</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="aperitivos">Aperitivos</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="caldos">Caldos</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="pastas">Pastas</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="saludables">Saludable</span>
                        </li>

                        <li class="nav-item">
                            <p class="nav-link seccion_recetas disabled my-2" aria-disabled="true"><span>Dulces y postres</span> <i class="bi bi-dash-lg"></i></p>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="tortas">Tortas</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="pastas">Pastas</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="dulces">Dulce</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="postre">Postre</span>
                        </li>

                        <li class="nav-item">
                            <p class="nav-link seccion_recetas disabled my-2" aria-disabled="true"><span>Bebidas</span> <i class="bi bi-dash-lg"></i></p>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="bebida-caliente">Caliente</span>
                        </li>
                        <li class="nav-item">
                            <span class="nav-link fw-normal" id="helado">Helado</span>
                        </li>
                    </ul>
                </div>

                
                <div class="col-md-10 px-5 d-flex flex-column align-items-center" style="width: 80%; margin: 0 auto;">
                <!--
                    <form class="d-flex form_search" style="width: 96.5%;" role="search">
                        <input class="form-control" type="search" placeholder="Buscar receta..." aria-label="Search">
                        <button class="btn btn_search" type="submit"><i class="bi bi-search"></i></button>
                    </form>
                -->
                    <div id="recetas" class="contenedor_cards d-flex flex-wrap align-items-center justify-content-around p-2 my-5"></div>
                    <!--
                        <nav aria-label="...">
                            <ul class="pagination">
                                <li class="page-item disabled">
                                    <a class="page-link">Previous</a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                <li class="page-item" aria-current="page">
                                    <a class="page-link" href="#">2</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>
                    -->
                </div>
            </div>
        </div>

        <!-- Modal de Inicio de Sesion -->
        <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body p-0">
                        <div class="login-form-overlay d-flex align-items-center justify-content-center">
                            <form class="text-center p-4">
                                <div class="form-group">
                                    <label for="emailModal" class="label_form">Correo electrónico</label>
                                    <input type="email" class="form-control mb-2" id="emailModal" placeholder="Ingrese su correo electrónico">
                                </div>
                                <div class="form-group">
                                    <label for="passwordModal" class="label_form">Contraseña</label>
                                    <input type="password" class="form-control mb-4" id="passwordModal" placeholder="Ingrese su contraseña">
                                </div>
                                <button type="submit" class="btn btn-primary mb-2">Iniciar Sesión</button>
                                <a href="./pages/suscripcion.html" class="btn btn-link">¿No tienes una cuenta? Regístrate</a>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class=" pt-5 footer px-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <a class="contenedor_logo d-flex justify-content-center align-items-center" href="#">
                        <div class="contenedor_logo_imagen">
                            <img src="../assets/logo/logo.png" alt="Gorra de cocinero" class="imagen">
                        </div>
                    </a>

                    <div class="contenedor_redes d-flex align-items-center justify-content-center flex-wrap p-3 py-4">
                        <i class="bi bi-instagram mx-2 fs-4 icono_ig"></i>
                        <i class="bi bi-facebook mx-2 fs-4 icono_fb"></i>
                        <i class="bi bi-whatsapp mx-2 fs-4 icono_wsp"></i>
                        <i class="bi bi-twitter-x mx-2 fs-4 icono_x"></i>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5 class="text-uppercase">Sobre nosotros</h5>
                    <p>Somos una comunidad que se dedica a compartir las mejores recetas de cocina. Nuestra misión es inspirar y facilitar la preparación de deliciosos platillos en casa.</p>
                </div>
                <div class="col-md-4">
                    <ul class="list-unstyled">
                        <li><a href="#" class="link_footer">Inicio</a></li>
                        <li><a href="#" class="link_footer">Recetas</a></li>
                        <li><a href="#" class="link_footer">Contacto</a></li>
                    </ul>
                </div>

            </div>

            <div class="text-center py-3">
                <small class="">&copy; 2024 Delicius Recipes - Todos los derechos reservados.</small>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="../scripts/script.js"></script>

    <script>
        function response_received(response) {
            return response.json()
        }

        function parse_data(content) {
            console.log("Lista de recetas!")
            console.log(content)
            const container_cards = document.getElementById("recetas");
            for (let index = 0; index < content.length; index++) {
                const card = document.createElement("a");
                const recipeURL = `receta/index.html?id=${content[index].id_receta}`;
                card.setAttribute("class", "card card_receta col-12 col-sm-6 col-md-4 col-lg-2 mb-3");

                card.setAttribute("href", recipeURL);
                card.style.width = "15rem"

                const image = document.createElement("img");
                image.setAttribute("class", "card-img-top card-img-top-receta")
                image.src = content[index].imagen_url;
                image.alt = "imagen de una comida";

                card.append(image);

                const container = document.createElement("div");
                container.setAttribute("class", "card-body");

                const paragraph = document.createElement("p");
                paragraph.setAttribute("class", "card-title fw-medium text-capitalize text-center");
                paragraph.textContent = content[index].nombre;
                
                container.append(paragraph);

                card.append(container);

                container_cards.append(card);
            }
        }
        
        
        function request_error(error) {
            console.log('ERROR');
            console.log(error);
        }

        fetch('http://localhost:5000/recetas')
            .then(response_received)
            .then(parse_data)
            .catch(request_error)
    </script>


</body>
</html>